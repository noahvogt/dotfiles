#!/bin/sh

# script to display the network state in dwmblocks

wifi=$(iwgetid -r)
upstate=$(ip a | grep BROADCAST,MULTICAST, | awk '{print $9}')
if [ -z "$wifi" ];
    then
        printf "%s\\n" "游댋 $upstate"
    else
        # alternatively: diplay percentage
        # awk '/^\s*w/ { print "游닜", int($3 * 100 / 70) "%" }' \
        # /proc/net/wireless | sed 's/100/99/'

		percent=$(awk '/^\s*w/ { print int($3 * 100 / 70) }' \
                  /proc/net/wireless | head -n 1)
		if [ "$percent" -gt 80 ];
		then
			echo "游릴游릴游릴游릴游릴"
		elif [ "$percent" -gt 60 ];
		then
			echo "游릴游릴游릴游릴游릲"
		elif [ "$percent" -gt 40 ];
		then
			echo "游릴游릴游릴游릲游릲"
		elif [ "$percent" -gt 20 ];
		then
			echo "游릴游릴游릲游릲游릲"
		else
			echo "游릴游릲游릲游릲游릲"
		fi
    fi
